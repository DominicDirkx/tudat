\hypertarget{classtudat_1_1propagators_1_1VariationalEquations}{}\section{tudat\+:\+:propagators\+:\+:Variational\+Equations Class Reference}
\label{classtudat_1_1propagators_1_1VariationalEquations}\index{tudat\+::propagators\+::\+Variational\+Equations@{tudat\+::propagators\+::\+Variational\+Equations}}


Class from which the variational equations can be evaluated.  




{\ttfamily \#include $<$variational\+Equations.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Parameter\+Type $>$ }\\\hyperlink{classtudat_1_1propagators_1_1VariationalEquations_a82ce800fb140bd255a0c64ccc4c79717}{Variational\+Equations} (const std\+::map$<$ Integrated\+State\+Type, orbit\+\_\+determination\+::\+State\+Derivative\+Partials\+Map $>$ state\+Derivative\+Partial\+List, const boost\+::shared\+\_\+ptr$<$ \hyperlink{classtudat_1_1estimatable__parameters_1_1EstimatableParameterSet}{estimatable\+\_\+parameters\+::\+Estimatable\+Parameter\+Set}$<$ Parameter\+Type $>$ $>$ parameters\+To\+Estimate, const std\+::map$<$ Integrated\+State\+Type, int $>$ \&state\+Type\+Start\+Indices)
\begin{DoxyCompactList}\small\item\em Constructor of variation equations class. \end{DoxyCompactList}\item 
void \hyperlink{classtudat_1_1propagators_1_1VariationalEquations_aee04f729bd529d7e4776723fdfd94655}{set\+Body\+State\+Partial\+Matrix} ()
\begin{DoxyCompactList}\small\item\em Calculates matrix containing partial derivatives of state derivatives w.\+r.\+t. body state. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename State\+Scalar\+Type $>$ }\\void \hyperlink{classtudat_1_1propagators_1_1VariationalEquations_a643e62d98aed13d6322d0c4c3cb4e2c6}{get\+Body\+Initial\+State\+Partial\+Matrix} (const Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ \&state\+Transition\+And\+Sensitivity\+Matrices, Eigen\+::\+Block$<$ Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ $>$ current\+Matrix\+Derivative)
\begin{DoxyCompactList}\small\item\em Function to compute the contribution of the derivatives w.\+r.\+t. current states in the variational equations. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename State\+Scalar\+Type $>$ }\\void \hyperlink{classtudat_1_1propagators_1_1VariationalEquations_a80a1982caf9c333f07fe7909da4f693e}{get\+Parameter\+Partial\+Matrix} (Eigen\+::\+Block$<$ Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ $>$ current\+Matrix\+Derivative)
\begin{DoxyCompactList}\small\item\em Calculates matrix containing partial derivatives of state derivatives w.\+r.\+t. parameters. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename State\+Scalar\+Type $>$ }\\void \hyperlink{classtudat_1_1propagators_1_1VariationalEquations_ae9c3c5031af179bd999b41c06615e62a}{evaluate\+Variational\+Equations} (const double time, const Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ \&state\+Transition\+And\+Sensitivity\+Matrices, Eigen\+::\+Block$<$ Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ $>$ current\+Matrix\+Derivative)
\begin{DoxyCompactList}\small\item\em Evaluates the complete variational equations. \end{DoxyCompactList}\item 
void \hyperlink{classtudat_1_1propagators_1_1VariationalEquations_a1b07b80017664dc56701fe89b77d9fd6}{clear\+Partials} ()
\begin{DoxyCompactList}\small\item\em Function to clear reference/cached values of state derivative partials. \end{DoxyCompactList}\item 
void \hyperlink{classtudat_1_1propagators_1_1VariationalEquations_a0f8bf723ec6f863c6f8379d05d34a4f3}{update\+Partials} (const double current\+Time)
\begin{DoxyCompactList}\small\item\em This function updates all state derivative models to the current time and state. \end{DoxyCompactList}\item 
double \hyperlink{classtudat_1_1propagators_1_1VariationalEquations_a04796ab4c2dd1c1d24f09d39204b0a0d}{get\+Number\+Of\+Parameter\+Values} ()
\begin{DoxyCompactList}\small\item\em Returns the number of parameter values. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Class from which the variational equations can be evaluated. 

Class from which the variational equations can be evaluated. The time derivative of the state transition and sensitivity matrices are computed from a set of state derivative partials objects, at the current time and state. This class performs all required bookkeeping to update, evaluate and combine these state derivative partials into the variational equations. The \hyperlink{classtudat_1_1propagators_1_1VariationalEquationsSolver}{Variational\+Equations\+Solver} object is used to manage and execute the full numerical integration of these variational equations and equations of motion. 

\subsection{Constructor \& Destructor Documentation}
\index{tudat\+::propagators\+::\+Variational\+Equations@{tudat\+::propagators\+::\+Variational\+Equations}!Variational\+Equations@{Variational\+Equations}}
\index{Variational\+Equations@{Variational\+Equations}!tudat\+::propagators\+::\+Variational\+Equations@{tudat\+::propagators\+::\+Variational\+Equations}}
\subsubsection[{\texorpdfstring{Variational\+Equations(const std\+::map$<$ Integrated\+State\+Type, orbit\+\_\+determination\+::\+State\+Derivative\+Partials\+Map $>$ state\+Derivative\+Partial\+List, const boost\+::shared\+\_\+ptr$<$ estimatable\+\_\+parameters\+::\+Estimatable\+Parameter\+Set$<$ Parameter\+Type $>$ $>$ parameters\+To\+Estimate, const std\+::map$<$ Integrated\+State\+Type, int $>$ \&state\+Type\+Start\+Indices)}{VariationalEquations(const std::map< IntegratedStateType, orbit_determination::StateDerivativePartialsMap > stateDerivativePartialList, const boost::shared_ptr< estimatable_parameters::EstimatableParameterSet< ParameterType > > parametersToEstimate, const std::map< IntegratedStateType, int > &stateTypeStartIndices)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Parameter\+Type $>$ tudat\+::propagators\+::\+Variational\+Equations\+::\+Variational\+Equations (
\begin{DoxyParamCaption}
\item[{const std\+::map$<$ Integrated\+State\+Type, orbit\+\_\+determination\+::\+State\+Derivative\+Partials\+Map $>$}]{state\+Derivative\+Partial\+List, }
\item[{const boost\+::shared\+\_\+ptr$<$ {\bf estimatable\+\_\+parameters\+::\+Estimatable\+Parameter\+Set}$<$ Parameter\+Type $>$ $>$}]{parameters\+To\+Estimate, }
\item[{const std\+::map$<$ Integrated\+State\+Type, int $>$ \&}]{state\+Type\+Start\+Indices}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classtudat_1_1propagators_1_1VariationalEquations_a82ce800fb140bd255a0c64ccc4c79717}{}\label{classtudat_1_1propagators_1_1VariationalEquations_a82ce800fb140bd255a0c64ccc4c79717}


Constructor of variation equations class. 

Constructor of variation equations class. Since the vehicle state must be integrated along with the variational equations, an object calculating the state derivative is required. 
\begin{DoxyParams}{Parameters}
{\em state\+Derivative\+Partial\+List} & List partials of state derivative models from which the variational equations are set up. The key is the type of dynamics for which partials are taken, the values are State\+Derivative\+Partials\+Map (see State\+Derivative\+Partials\+Map definition for details) \\
\hline
{\em parameters\+To\+Estimate} & Object containing all parameters that are to be estimated and their current settings and values. \\
\hline
{\em state\+Type\+Start\+Indices} & Start index (value) in vector of propagated state for each type of state (key) \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\index{tudat\+::propagators\+::\+Variational\+Equations@{tudat\+::propagators\+::\+Variational\+Equations}!clear\+Partials@{clear\+Partials}}
\index{clear\+Partials@{clear\+Partials}!tudat\+::propagators\+::\+Variational\+Equations@{tudat\+::propagators\+::\+Variational\+Equations}}
\subsubsection[{\texorpdfstring{clear\+Partials()}{clearPartials()}}]{\setlength{\rightskip}{0pt plus 5cm}void tudat\+::propagators\+::\+Variational\+Equations\+::clear\+Partials (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classtudat_1_1propagators_1_1VariationalEquations_a1b07b80017664dc56701fe89b77d9fd6}{}\label{classtudat_1_1propagators_1_1VariationalEquations_a1b07b80017664dc56701fe89b77d9fd6}


Function to clear reference/cached values of state derivative partials. 

Function to clear reference/cached values of state derivative partials, to ensure that they are all recalculated. \index{tudat\+::propagators\+::\+Variational\+Equations@{tudat\+::propagators\+::\+Variational\+Equations}!evaluate\+Variational\+Equations@{evaluate\+Variational\+Equations}}
\index{evaluate\+Variational\+Equations@{evaluate\+Variational\+Equations}!tudat\+::propagators\+::\+Variational\+Equations@{tudat\+::propagators\+::\+Variational\+Equations}}
\subsubsection[{\texorpdfstring{evaluate\+Variational\+Equations(const double time, const Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ \&state\+Transition\+And\+Sensitivity\+Matrices, Eigen\+::\+Block$<$ Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ $>$ current\+Matrix\+Derivative)}{evaluateVariationalEquations(const double time, const Eigen::Matrix< StateScalarType, Eigen::Dynamic, Eigen::Dynamic > &stateTransitionAndSensitivityMatrices, Eigen::Block< Eigen::Matrix< StateScalarType, Eigen::Dynamic, Eigen::Dynamic > > currentMatrixDerivative)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename State\+Scalar\+Type $>$ void tudat\+::propagators\+::\+Variational\+Equations\+::evaluate\+Variational\+Equations (
\begin{DoxyParamCaption}
\item[{const double}]{time, }
\item[{const Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ \&}]{state\+Transition\+And\+Sensitivity\+Matrices, }
\item[{Eigen\+::\+Block$<$ Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ $>$}]{current\+Matrix\+Derivative}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classtudat_1_1propagators_1_1VariationalEquations_ae9c3c5031af179bd999b41c06615e62a}{}\label{classtudat_1_1propagators_1_1VariationalEquations_ae9c3c5031af179bd999b41c06615e62a}


Evaluates the complete variational equations. 

Evaluates the complete variational equations at a given time and state transition matrix, sensitivity matrix and state (accessed indirectly). This function evaluates the complete Eq. (7.\+45) from (Montenbruck \& Gill, 2000). 
\begin{DoxyParams}{Parameters}
{\em time} & Current time \\
\hline
{\em state\+Transition\+And\+Sensitivity\+Matrices} & Combined state transition and sensitivity matrix. \\
\hline
{\em current\+Matrix\+Derivative} & Variation equations result (returned by reference). \\
\hline
\end{DoxyParams}
\index{tudat\+::propagators\+::\+Variational\+Equations@{tudat\+::propagators\+::\+Variational\+Equations}!get\+Body\+Initial\+State\+Partial\+Matrix@{get\+Body\+Initial\+State\+Partial\+Matrix}}
\index{get\+Body\+Initial\+State\+Partial\+Matrix@{get\+Body\+Initial\+State\+Partial\+Matrix}!tudat\+::propagators\+::\+Variational\+Equations@{tudat\+::propagators\+::\+Variational\+Equations}}
\subsubsection[{\texorpdfstring{get\+Body\+Initial\+State\+Partial\+Matrix(const Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ \&state\+Transition\+And\+Sensitivity\+Matrices, Eigen\+::\+Block$<$ Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ $>$ current\+Matrix\+Derivative)}{getBodyInitialStatePartialMatrix(const Eigen::Matrix< StateScalarType, Eigen::Dynamic, Eigen::Dynamic > &stateTransitionAndSensitivityMatrices, Eigen::Block< Eigen::Matrix< StateScalarType, Eigen::Dynamic, Eigen::Dynamic > > currentMatrixDerivative)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename State\+Scalar\+Type $>$ void tudat\+::propagators\+::\+Variational\+Equations\+::get\+Body\+Initial\+State\+Partial\+Matrix (
\begin{DoxyParamCaption}
\item[{const Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ \&}]{state\+Transition\+And\+Sensitivity\+Matrices, }
\item[{Eigen\+::\+Block$<$ Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ $>$}]{current\+Matrix\+Derivative}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classtudat_1_1propagators_1_1VariationalEquations_a643e62d98aed13d6322d0c4c3cb4e2c6}{}\label{classtudat_1_1propagators_1_1VariationalEquations_a643e62d98aed13d6322d0c4c3cb4e2c6}


Function to compute the contribution of the derivatives w.\+r.\+t. current states in the variational equations. 

Function to compute the contribution of the derivatives w.\+r.\+t. current states in the variational equations, e.\+g. first term in Eq. (7.\+45) in (Montenbruck \& Gill, 2000). 
\begin{DoxyParams}{Parameters}
{\em state\+Transition\+And\+Sensitivity\+Matrices} & Current combined state transition and sensitivity matric \\
\hline
{\em current\+Matrix\+Derivative} & Matrix block which is to return (by reference) the given contribution to the variational equations. \\
\hline
\end{DoxyParams}
\index{tudat\+::propagators\+::\+Variational\+Equations@{tudat\+::propagators\+::\+Variational\+Equations}!get\+Number\+Of\+Parameter\+Values@{get\+Number\+Of\+Parameter\+Values}}
\index{get\+Number\+Of\+Parameter\+Values@{get\+Number\+Of\+Parameter\+Values}!tudat\+::propagators\+::\+Variational\+Equations@{tudat\+::propagators\+::\+Variational\+Equations}}
\subsubsection[{\texorpdfstring{get\+Number\+Of\+Parameter\+Values()}{getNumberOfParameterValues()}}]{\setlength{\rightskip}{0pt plus 5cm}double tudat\+::propagators\+::\+Variational\+Equations\+::get\+Number\+Of\+Parameter\+Values (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classtudat_1_1propagators_1_1VariationalEquations_a04796ab4c2dd1c1d24f09d39204b0a0d}{}\label{classtudat_1_1propagators_1_1VariationalEquations_a04796ab4c2dd1c1d24f09d39204b0a0d}


Returns the number of parameter values. 

Returns the number of parameter values (i.\+e. number of columns in state transition matrix). \begin{DoxyReturn}{Returns}
Number of parameter values. 
\end{DoxyReturn}
\index{tudat\+::propagators\+::\+Variational\+Equations@{tudat\+::propagators\+::\+Variational\+Equations}!get\+Parameter\+Partial\+Matrix@{get\+Parameter\+Partial\+Matrix}}
\index{get\+Parameter\+Partial\+Matrix@{get\+Parameter\+Partial\+Matrix}!tudat\+::propagators\+::\+Variational\+Equations@{tudat\+::propagators\+::\+Variational\+Equations}}
\subsubsection[{\texorpdfstring{get\+Parameter\+Partial\+Matrix(\+Eigen\+::\+Block$<$ Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ $>$ current\+Matrix\+Derivative)}{getParameterPartialMatrix(Eigen::Block< Eigen::Matrix< StateScalarType, Eigen::Dynamic, Eigen::Dynamic > > currentMatrixDerivative)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename State\+Scalar\+Type $>$ void tudat\+::propagators\+::\+Variational\+Equations\+::get\+Parameter\+Partial\+Matrix (
\begin{DoxyParamCaption}
\item[{Eigen\+::\+Block$<$ Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ $>$}]{current\+Matrix\+Derivative}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classtudat_1_1propagators_1_1VariationalEquations_a80a1982caf9c333f07fe7909da4f693e}{}\label{classtudat_1_1propagators_1_1VariationalEquations_a80a1982caf9c333f07fe7909da4f693e}


Calculates matrix containing partial derivatives of state derivatives w.\+r.\+t. parameters. 

Calculates matrix containing partial derivatives of state derivatives w.\+r.\+t. parameters, i.\+e. second matrix in rhs of Eq. (7.\+45) in (Montenbruck \& Gill, 2000). 
\begin{DoxyParams}{Parameters}
{\em current\+Matrix\+Derivative} & Matrix block containing partial derivatives of accelerarion w.\+r.\+t. parameters (returned by reference). \\
\hline
\end{DoxyParams}
\index{tudat\+::propagators\+::\+Variational\+Equations@{tudat\+::propagators\+::\+Variational\+Equations}!set\+Body\+State\+Partial\+Matrix@{set\+Body\+State\+Partial\+Matrix}}
\index{set\+Body\+State\+Partial\+Matrix@{set\+Body\+State\+Partial\+Matrix}!tudat\+::propagators\+::\+Variational\+Equations@{tudat\+::propagators\+::\+Variational\+Equations}}
\subsubsection[{\texorpdfstring{set\+Body\+State\+Partial\+Matrix()}{setBodyStatePartialMatrix()}}]{\setlength{\rightskip}{0pt plus 5cm}void tudat\+::propagators\+::\+Variational\+Equations\+::set\+Body\+State\+Partial\+Matrix (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classtudat_1_1propagators_1_1VariationalEquations_aee04f729bd529d7e4776723fdfd94655}{}\label{classtudat_1_1propagators_1_1VariationalEquations_aee04f729bd529d7e4776723fdfd94655}


Calculates matrix containing partial derivatives of state derivatives w.\+r.\+t. body state. 

Calculates matrix containing partial derivatives of state derivatives w.\+r.\+t. body state, i.\+e. first matrix in right hand side of Eq. (7.\+45) in (Montenbruck \& Gill, 2000). \begin{DoxyReturn}{Returns}
Matrix containing partial derivatives of state derivative w.\+r.\+t. body state 
\end{DoxyReturn}
\index{tudat\+::propagators\+::\+Variational\+Equations@{tudat\+::propagators\+::\+Variational\+Equations}!update\+Partials@{update\+Partials}}
\index{update\+Partials@{update\+Partials}!tudat\+::propagators\+::\+Variational\+Equations@{tudat\+::propagators\+::\+Variational\+Equations}}
\subsubsection[{\texorpdfstring{update\+Partials(const double current\+Time)}{updatePartials(const double currentTime)}}]{\setlength{\rightskip}{0pt plus 5cm}void tudat\+::propagators\+::\+Variational\+Equations\+::update\+Partials (
\begin{DoxyParamCaption}
\item[{const double}]{current\+Time}
\end{DoxyParamCaption}
)}\hypertarget{classtudat_1_1propagators_1_1VariationalEquations_a0f8bf723ec6f863c6f8379d05d34a4f3}{}\label{classtudat_1_1propagators_1_1VariationalEquations_a0f8bf723ec6f863c6f8379d05d34a4f3}


This function updates all state derivative models to the current time and state. 

This function updates all state derivative models to the current time and state. 
\begin{DoxyParams}{Parameters}
{\em current\+Time} & \hyperlink{classtudat_1_1Time}{Time} to which the system is to be updated. \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/lupi/\+Tudat/tudat\+Bundle/tudat/\+Tudat/\+Astrodynamics/\+Propagators/variational\+Equations.\+h\item 
/home/lupi/\+Tudat/tudat\+Bundle/tudat/\+Tudat/\+Astrodynamics/\+Propagators/variational\+Equations.\+cpp\end{DoxyCompactItemize}
